/*! images-compress 2017-07-28 
 * images-compress v1.0.1 
 * (c) 2017 writethesky（撰天）
 * Released under the MIT License. 
 * https://github.com/writethesky/ 
 * https://github.com/writethesky/images-compress.git */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e(t,!0):e(t,!1)}(window,function(t,e){function o(t,e,o,a){n(t,function(t){i(t,e,o,function(t){a(t)})})}function n(t,e){var o=new FileReader;o.onload=function(t){e(t.target.result)},o.readAsDataURL(t)}function i(t,e,o,n){var i=new Image;i.src=t;var r,c,d=0,u=document.createElement("canvas"),f=u.getContext("2d");i.addEventListener("load",function(){var t=i.height,h=i.width,l=h,m=t;h>e&&t>o?(t/(d=h/e)<o&&(d=t/o),l=Math.ceil(h/d),m=Math.ceil(t/d),c=a(u,i,l,m)):(h<e&&t<o?t*(d=e/h)<o&&(d=o/t):d=h<e?e/h:o/t,l=Math.ceil(h*d),m=Math.ceil(t*d),c=a(u,i,l,m)),c.addEventListener("load",function(){f.clearRect(0,0,u.width,u.height),u.width=e,u.height=o,f.drawImage(c,(c.width-e)/2,(c.height-o)/2,e,o,0,0,e,o),r=u.toDataURL(),n(r)})})}function a(t,e,o,n){t.width=o,t.height=n,t.getContext("2d").drawImage(e,0,0,t.width,t.height);var i=new Image;return i.src=t.toDataURL(),i}return e||(t.image_compress=o),o});